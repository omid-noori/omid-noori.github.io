(function(e){function t(t){for(var a,l,o=t[0],r=t[1],i=t[2],u=0,d=[];u<o.length;u++)l=o[u],Object.prototype.hasOwnProperty.call(n,l)&&n[l]&&d.push(n[l][0]),n[l]=0;for(a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a]);b&&b(t);while(d.length)d.shift()();return s.push.apply(s,i||[]),c()}function c(){for(var e,t=0;t<s.length;t++){for(var c=s[t],a=!0,l=1;l<c.length;l++){var o=c[l];0!==n[o]&&(a=!1)}a&&(s.splice(t--,1),e=r(r.s=c[0]))}return e}var a={},l={app:0},n={app:0},s=[];function o(e){return r.p+"js/"+({about:"about"}[e]||e)+"."+{about:"0d571526"}[e]+".js"}function r(t){if(a[t])return a[t].exports;var c=a[t]={i:t,l:!1,exports:{}};return e[t].call(c.exports,c,c.exports,r),c.l=!0,c.exports}r.e=function(e){var t=[],c={about:1};l[e]?t.push(l[e]):0!==l[e]&&c[e]&&t.push(l[e]=new Promise((function(t,c){for(var a="css/"+({about:"about"}[e]||e)+"."+{about:"8cf70d13"}[e]+".css",n=r.p+a,s=document.getElementsByTagName("link"),o=0;o<s.length;o++){var i=s[o],u=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(u===a||u===n))return t()}var d=document.getElementsByTagName("style");for(o=0;o<d.length;o++){i=d[o],u=i.getAttribute("data-href");if(u===a||u===n)return t()}var b=document.createElement("link");b.rel="stylesheet",b.type="text/css",b.onload=t,b.onerror=function(t){var a=t&&t.target&&t.target.src||n,s=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=a,delete l[e],b.parentNode.removeChild(b),c(s)},b.href=n;var p=document.getElementsByTagName("head")[0];p.appendChild(b)})).then((function(){l[e]=0})));var a=n[e];if(0!==a)if(a)t.push(a[2]);else{var s=new Promise((function(t,c){a=n[e]=[t,c]}));t.push(a[2]=s);var i,u=document.createElement("script");u.charset="utf-8",u.timeout=120,r.nc&&u.setAttribute("nonce",r.nc),u.src=o(e);var d=new Error;i=function(t){u.onerror=u.onload=null,clearTimeout(b);var c=n[e];if(0!==c){if(c){var a=t&&("load"===t.type?"missing":t.type),l=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+a+": "+l+")",d.name="ChunkLoadError",d.type=a,d.request=l,c[1](d)}n[e]=void 0}};var b=setTimeout((function(){i({type:"timeout",target:u})}),12e4);u.onerror=u.onload=i,document.head.appendChild(u)}return Promise.all(t)},r.m=e,r.c=a,r.d=function(e,t,c){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:c})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var c=Object.create(null);if(r.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(c,a,function(t){return e[t]}.bind(null,a));return c},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/",r.oe=function(e){throw console.error(e),e};var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=t,i=i.slice();for(var d=0;d<i.length;d++)t(i[d]);var b=u;s.push([0,"chunk-vendors"]),c()})({0:function(e,t,c){e.exports=c("56d7")},"05dd":function(e,t,c){e.exports=c.p+"img/internet.67eec6b8.svg"},"1d06":function(e,t,c){e.exports=c.p+"img/About.cbf40df3.svg"},2002:function(e,t,c){"use strict";c("6515")},"2ce2":function(e,t,c){},"2e38":function(e,t,c){"use strict";c("d402")},"309a":function(e,t,c){e.exports=c.p+"img/logout.1e39dcf6.svg"},"33ad":function(e,t,c){},4359:function(e,t,c){e.exports=c.p+"img/music-upload.4ce563d2.svg"},"447b":function(e,t,c){"use strict";c("a7a5")},"4bd2":function(e,t,c){"use strict";c("561b")},"4bf6":function(e,t,c){"use strict";c("2ce2")},"538f":function(e,t,c){e.exports=c.p+"img/fingerprint.593641b9.svg"},"54e6":function(e,t,c){e.exports=c.p+"img/instagram.904a9a9a.svg"},"561b":function(e,t,c){},5675:function(e,t,c){"use strict";c("abb3")},"56d7":function(e,t,c){"use strict";c.r(t);var a=c("7a23");function l(e,t,c,l,n,s){const o=Object(a["z"])("Nav");return Object(a["s"])(),Object(a["d"])(o,{Routes:l.Routes},null,8,["Routes"])}var n=c("d821"),s=c.n(n),o=c("57a8"),r=c.n(o),i=c("538f"),u=c.n(i),d=c("309a"),b=c.n(d);const p={id:"nav"},g={class:"logo"},m=Object(a["g"])("img",{src:s.a,alt:"Logo"},null,-1),O={class:"fullName"},j=Object(a["g"])("img",{src:r.a,alt:""},null,-1),v=Object(a["f"])(" Dashboard "),h=Object(a["g"])("img",{src:u.a,alt:""},null,-1),f=Object(a["f"])(" Authentication "),y=Object(a["g"])("img",{src:b.a,alt:""},null,-1),k=Object(a["f"])(" Logout ");function w(e,t,l,n,s,o){const r=Object(a["z"])("router-link"),i=Object(a["z"])("router-view");return Object(a["s"])(),Object(a["d"])(a["a"],null,[Object(a["g"])("div",p,[Object(a["g"])("figure",g,[Object(a["g"])("div",{onClick:t[1]||(t[1]=(...e)=>n.HamburgerTransition&&n.HamburgerTransition(...e)),class:["hamburger",{TActive:n.isActive}]},null,2),m]),Object(a["g"])("nav",{class:{active:n.isActive}},[Object(a["g"])("ul",null,[e.$store.state.isAuthenticated?(Object(a["s"])(),Object(a["d"])("div",{key:0,class:"profile",onClick:t[2]||(t[2]=Object(a["L"])((...e)=>n.toProfile&&n.toProfile(...e),["prevent"]))},[e.$store.state.User.profilePic.Key?(Object(a["s"])(),Object(a["d"])("div",{key:0,style:{backgroundImage:"url("+n.URL+e.$store.state.User.profilePic.Key+")"},class:"profilePic"},null,4)):(Object(a["s"])(),Object(a["d"])("div",{key:1,style:{"background-image":"url("+c("cf4a")+")"},class:"profilePic"},null,4)),Object(a["g"])("div",O,[Object(a["g"])(r,{to:"/profile"},{default:Object(a["J"])(()=>[Object(a["f"])(" Hi "+Object(a["B"])(e.$store.state.User.firstName),1)]),_:1})])])):Object(a["e"])("",!0),(Object(a["s"])(!0),Object(a["d"])(a["a"],null,Object(a["y"])(n.props.Routes,e=>(Object(a["s"])(),Object(a["d"])("li",{onClick:t[3]||(t[3]=Object(a["L"])((...e)=>n.HamburgerTransition&&n.HamburgerTransition(...e),["prevent"]))},[Object(a["g"])("img",{src:e.icone,alt:""},null,8,["src"]),Object(a["g"])(r,{to:e.path},{default:Object(a["J"])(()=>[Object(a["f"])(Object(a["B"])(e.name),1)]),_:2},1032,["to"])]))),256)),!e.$store.state.User||"Arthist"!==e.$store.state.User.role&&"Admin"!==e.$store.state.User.role?Object(a["e"])("",!0):(Object(a["s"])(),Object(a["d"])("li",{key:1,onClick:t[4]||(t[4]=Object(a["L"])((...e)=>n.HamburgerTransition&&n.HamburgerTransition(...e),["prevent"]))},[j,Object(a["g"])(r,{to:"/dashboard"},{default:Object(a["J"])(()=>[v]),_:1})])),!1===e.$store.state.isAuthenticated||e.$store.state.User&&"Arthist"===e.$store.state.User.role?(Object(a["s"])(),Object(a["d"])("li",{key:2,onClick:t[5]||(t[5]=Object(a["L"])((...e)=>n.HamburgerTransition&&n.HamburgerTransition(...e),["prevent"]))},[h,Object(a["g"])(r,{to:"/auth"},{default:Object(a["J"])(()=>[f]),_:1})])):Object(a["e"])("",!0),e.$store.state.isAuthenticated?(Object(a["s"])(),Object(a["d"])("li",{key:3,onClick:t[6]||(t[6]=Object(a["L"])((...e)=>n.HamburgerTransition&&n.HamburgerTransition(...e),["prevent"]))},[y,Object(a["g"])(r,{onClick:Object(a["L"])(n.logOut,["prevent"]),to:"/auth"},{default:Object(a["J"])(()=>[k]),_:1},8,["onClick"])])):Object(a["e"])("",!0)])],2)]),n.isActive?(Object(a["s"])(),Object(a["d"])("div",{key:0,onClick:t[7]||(t[7]=(...e)=>n.HamburgerTransition&&n.HamburgerTransition(...e)),class:"bgActive"})):Object(a["e"])("",!0),Object(a["g"])(i)],64)}var x=c("5502"),C=c("6c02"),L={props:{Routes:{type:Array,required:!0}},setup(e){const t=Object(a["x"])(!1),c=Object(x["b"])(),l=Object(C["d"])(),n="https://rapgap.herokuapp.com",s=n+"/uploads/media/",o=()=>{window.innerWidth<900&&(t.value=!t.value)},r=()=>{window.innerWidth<900&&(t.value=!t.value),l.push("/profile")},i=()=>{c.commit("setUser",null),c.commit("setAuthentication",!1),l.push("/auth")};return{HamburgerTransition:o,props:e,isActive:t,logOut:i,toProfile:r,URL:s}}};c("2e38");L.render=w;var U=L,P=c("e2ec"),S=c.n(P),M=c("1d06"),E=c.n(M),T={components:{Nav:U},setup(){const e=Object(a["x"])([{path:"/",name:"Home",icone:S.a},{path:"/about",name:"About",icone:E.a}]);return document.title="Welcome To RapGap",{Routes:e}}};c("bd82");T.render=l;var A=T;const D={key:0,class:"loading"},N={class:"home"},B={key:0,class:"container"},F={key:0,class:"info"},q={class:"center"},K={key:2,class:"ads"},_={key:0},R={key:1,class:"close"};function z(e,t,c,l,n,s){const o=Object(a["z"])("Slider"),r=Object(a["z"])("Player");return Object(a["s"])(),Object(a["d"])(a["a"],null,[l.loading?(Object(a["s"])(),Object(a["d"])("div",D)):Object(a["e"])("",!0),Object(a["g"])("div",N,[l.loading?Object(a["e"])("",!0):(Object(a["s"])(),Object(a["d"])("div",B,[l.Posts?(Object(a["s"])(),Object(a["d"])("div",F,[Object(a["g"])("div",q,[Object(a["g"])("h1",null,Object(a["B"])(l.currentIndex.name),1),Object(a["g"])("h2",null,Object(a["B"])(l.currentIndex.singer),1),Object(a["g"])("ul",null,[Object(a["g"])("li",null,"Album: "+Object(a["B"])(l.currentIndex.album),1),Object(a["g"])("li",null,"Cover: "+Object(a["B"])(l.currentIndex.coverDesigner),1),Object(a["g"])("li",null,"Composer: "+Object(a["B"])(l.currentIndex.composer),1),Object(a["g"])("li",null,"Audio Duration: "+Object(a["B"])(l.currentIndex.duration),1),Object(a["g"])("li",null,"Uploaded: "+Object(a["B"])(l.currentIndex.fromNow),1)])])])):Object(a["e"])("",!0),l.images?(Object(a["s"])(),Object(a["d"])(o,{key:1,imageKeys:l.images,onPlay:l.onPlay,onNext:l.next,onPrevious:l.previous},null,8,["imageKeys","onPlay","onNext","onPrevious"])):Object(a["e"])("",!0),l.loading?Object(a["e"])("",!0):(Object(a["s"])(),Object(a["d"])("div",K,[l.loading?Object(a["e"])("",!0):(Object(a["s"])(),Object(a["d"])("h1",_,"Ads"))]))]))]),l.close?(Object(a["s"])(),Object(a["d"])("div",R,[Object(a["g"])("div",null,[Object(a["g"])("p",null,Object(a["B"])(l.currentIndex.uploaded)+" * "+Object(a["B"])(l.currentIndex.fromNow),1),Object(a["g"])("span",{onClick:t[1]||(t[1]=e=>l.close=!1)})])])):Object(a["e"])("",!0),l.currentMusic&&l.close?(Object(a["s"])(),Object(a["d"])(r,{key:2,musicData:l.currentMusic},null,8,["musicData"])):Object(a["e"])("",!0)],64)}const I=Object(a["M"])("data-v-7c69d5d4");Object(a["v"])("data-v-7c69d5d4");const H={id:"container"},V={key:0,class:"carousel"},$={key:0,class:"loading"},X={class:"controls"},W={class:"Dots",ref:"Dots"};Object(a["t"])();const Y=I((e,t,c,l,n,s)=>(Object(a["s"])(),Object(a["d"])("div",H,[l.fetchedData?(Object(a["s"])(),Object(a["d"])("div",V,[l.loading?(Object(a["s"])(),Object(a["d"])("div",$)):Object(a["e"])("",!0),Object(a["g"])("div",{ref:"slider",class:"slider",style:{width:l.fetchedData.length+"00%"}},[(Object(a["s"])(!0),Object(a["d"])(a["a"],null,Object(a["y"])(l.fetchedData,t=>Object(a["K"])((Object(a["s"])(),Object(a["d"])("div",{key:t._id,onClick:c=>e.$emit("play",t)},[Object(a["g"])("img",{src:l.destinationFileURL+t.Key,alt:"Cover"},null,8,["src"])],8,["onClick"])),[[a["G"],!l.loading]])),128))],4),Object(a["g"])("div",X,[Object(a["g"])("span",{class:"arrow left",onClick:t[1]||(t[1]=e=>l.previous())}),Object(a["g"])("span",{class:"arrow right",onClick:t[2]||(t[2]=e=>l.next())}),Object(a["g"])("ul",W,[(Object(a["s"])(!0),Object(a["d"])(a["a"],null,Object(a["y"])(l.fetchedData,(e,t)=>(Object(a["s"])(),Object(a["d"])("li",{onClick:c=>l.chooseByDots(c,t,e),key:e._id},null,8,["onClick"]))),128))],512)])])):Object(a["e"])("",!0)])));var J={props:{imageKeys:Array},setup(e,{emit:t}){let c={startX:0,endX:0},l=Object(a["x"])(e.imageKeys);const n=Object(a["x"])(null);let s=Object(a["x"])(!0);const o="https://rapgap.herokuapp.com",r=o+"/uploads/media/";let i=0,u=0;Object(a["p"])(()=>{Object(a["l"])(()=>{const e=document.querySelectorAll(".Dots li"),t=n.value.querySelectorAll("div");t.forEach((e,c)=>{let a=e.querySelector("img");a.onload=function(){c===t.length-1&&(s.value=!1)}}),e[0].classList.add("selected")})}),Object(a["r"])(()=>{const e=document.querySelector(".slider");e.addEventListener("touchstart",e=>p(e),{passive:!0}),e.addEventListener("touchmove",e=>g(e),{passive:!0}),e.addEventListener("touchend",e=>m(e),{passive:!0})});const d=()=>{const e=document.querySelector(".controls .selected");i=i<l.value.length-1?i+1:i=0;const c=document.querySelector(".Dots");c.children[i].classList.add("selected"),null!==e&&e.classList.remove("selected"),u=100/l.value.length,n.value.style.transform=`translate(${i*-u}%)`;const a=l.value[i];t("next",a._id)},b=()=>{const e=document.querySelector(".controls .selected");i=i<=0?i=l.value.length-1:i-1,document.querySelector(".Dots").children[i].classList.add("selected"),null!==e&&e.classList.remove("selected"),u=100/l.value.length,n.value.style.transform=`translate(${i*-u}%)`;const c=l.value[i];t("previous",c._id)},p=e=>{c.startX=e.changedTouches[0].clientX,c.endX=0},g=e=>{c.endX=e.changedTouches[0].clientX},m=e=>{!c.endX||Math.abs(c.endX-c.startX)<20||(c.endX<c.startX?d():c.endX>c.startX&&b())},O=(e,c,a)=>{const s=document.querySelector(".controls .selected");i=c,null!==s&&s.classList.remove("selected"),e.target.classList.add("selected"),u=100/l.value.length,n.value.style.transform=`translateX(${i*-u}%)`,t("next",a._id)};return{next:d,slider:n,previous:b,chooseByDots:O,fetchedData:l,destinationFileURL:r,loading:s}}};c("4bd2");J.render=Y,J.__scopeId="data-v-7c69d5d4";var G=J;const Q={class:"blurBg"},Z={class:"coverPic"},ee=Object(a["g"])("canvas",{id:"canvas"},null,-1),te={key:0,class:"loading"},ce={class:"playSection"},ae={class:"info"},le={class:"slideAndPlay"},ne={class:"slider"},se=Object(a["g"])("p",{class:"currentTime"},"00:00",-1),oe=Object(a["g"])("div",{class:"progress"},null,-1),re=Object(a["g"])("div",null,null,-1),ie=Object(a["g"])("div",{class:"loadedData"},null,-1),ue={class:"duration"},de={class:"name"},be={class:"icons"},pe=Object(a["g"])("g",null,[Object(a["g"])("path",{d:"M278.235,33.267c-116.7,0-211.6,95-211.6,211.7v0.7l-41.9-63.1c-4.1-6.2-12.5-7.9-18.7-3.8c-6.2,4.1-7.9,12.5-3.8,18.7\r\n\t\t            l60.8,91.5c2.2,3.3,5.7,5.4,9.6,5.9c0.6,0.1,1.1,0.1,1.7,0.1c3.3,0,6.5-1.2,9-3.5l84.5-76.1c5.5-5,6-13.5,1-19.1\r\n\t\t            c-5-5.5-13.5-6-19.1-1l-56.1,50.7v-1c0-101.9,82.8-184.7,184.6-184.7s184.7,82.8,184.7,184.7s-82.8,184.7-184.6,184.7\r\n\t\t            c-49.3,0-95.7-19.2-130.5-54.1c-5.3-5.3-13.8-5.3-19.1,0c-5.3,5.3-5.3,13.8,0,19.1c40,40,93.1,62,149.6,62\r\n\t\t            c116.6,0,211.6-94.9,211.6-211.7S394.935,33.267,278.235,33.267z"})],-1),ge=Object(a["g"])("path",{class:"st0",d:"M108.22,154.85v190.3H37.43c-6.18,0-11.19-5.01-11.19-11.19V166.04c0-6.18,5.01-11.19,11.19-11.19\r\n\t\t            L108.22,154.85L108.22,154.85z"},null,-1),me=Object(a["g"])("path",{class:"st0",d:"M293.99,72.3v355.4c0,10.77-11.66,17.5-20.99,12.12l-164.79-95.15V155.32L273,60.19\r\n\t\t            C282.34,54.8,293.99,61.53,293.99,72.3z"},null,-1),Oe={key:0},je=Object(a["g"])("path",{class:"st0",d:"M311.03,332.29c45.45,0,82.29-36.84,82.29-82.29s-36.84-82.29-82.29-82.29"},null,-1),ve=Object(a["g"])("path",{class:"st0",d:"M311.03,363.52c62.69,0,113.52-50.82,113.52-113.52s-50.82-113.52-113.52-113.52"},null,-1),he=Object(a["g"])("path",{class:"st0",d:"M311.03,394.17c79.62,0,144.17-64.55,144.17-144.17s-64.55-144.17-144.17-144.17"},null,-1),fe={key:1,class:"muted"},ye=Object(a["g"])("line",{class:"st1",x1:"473",y1:"156.14",x2:"311.03",y2:"318.11"},null,-1),ke=Object(a["g"])("line",{class:"st1",x1:"312.5",y1:"156.14",x2:"473",y2:"316.64"},null,-1),we=Object(a["g"])("g",{fill:"rgb(255,255,255)"},[Object(a["g"])("path",{d:"m2.5 4c0-.27614.22386-.5.5-.5h10c.2761 0 .5.22386.5.5s-.2239.5-.5.5h-10c-.27614 0-.5-.22386-.5-.5z"}),Object(a["g"])("path",{"clip-rule":"evenodd",d:"m15.5 4c0-.27614.2239-.5.5-.5 3.0376 0 5.5 2.46243 5.5 5.5 0 .27614-.2239.5-.5.5s-.5-.22386-.5-.5c0-2.31628-1.75-4.22381-4-4.47254v12.97254c0 .0471-.0065.0927-.0187.136.0124.1196.0187.2411.0187.364 0 1.933-1.567 3.5-3.5 3.5s-3.5-1.567-3.5-3.5 1.567-3.5 3.5-3.5c.9793 0 1.8647.4022 2.5 1.0505zm-5 14c0-1.3807 1.1193-2.5 2.5-2.5s2.5 1.1193 2.5 2.5-1.1193 2.5-2.5 2.5-2.5-1.1193-2.5-2.5z","fill-rule":"evenodd"}),Object(a["g"])("path",{d:"m3 6.5c-.27614 0-.5.22386-.5.5s.22386.5.5.5h10c.2761 0 .5-.22386.5-.5s-.2239-.5-.5-.5z"}),Object(a["g"])("path",{d:"m2.5 10c0-.27614.22386-.5.5-.5h5c.27614 0 .5.22386.5.5 0 .2761-.22386.5-.5.5h-5c-.27614 0-.5-.2239-.5-.5z"})],-1),xe=Object(a["g"])("path",{d:"M430.48,447.14H69.52c-9.2,0-16.66-7.46-16.66-16.66V69.52c0-9.2,7.46-16.66,16.66-16.66h360.96\r\n\t            c9.2,0,16.66,7.46,16.66,16.66v360.96C447.14,439.68,439.68,447.14,430.48,447.14z"},null,-1),Ce=Object(a["f"])(" ♢ "),Le=Object(a["g"])("span",null,"×",-1);function Ue(e,t,c,l,n,s){return Object(a["s"])(),Object(a["d"])("div",Q,[Object(a["g"])("div",Z,[Object(a["g"])("div",{class:"cover",style:{backgroundImage:"url("+l.cover+")"}},null,4),ee,l.loading?(Object(a["s"])(),Object(a["d"])("div",te)):Object(a["e"])("",!0)]),Object(a["g"])("div",ce,[Object(a["g"])("div",ae,[Object(a["g"])("div",le,[Object(a["g"])("div",{onClick:t[1]||(t[1]=Object(a["L"])((...e)=>l.playPause&&l.playPause(...e),["prevent"])),class:["playIcone",{play:l.isPlaying}]},null,2),Object(a["g"])("div",ne,[se,Object(a["g"])("div",{onTouchstartPassive:t[7]||(t[7]=Object(a["L"])((...e)=>l.start&&l.start(...e),["stop"])),onMousedown:t[8]||(t[8]=Object(a["L"])((...e)=>l.start&&l.start(...e),["stop","prevent"])),onMousemove:t[9]||(t[9]=Object(a["L"])((...e)=>l.move&&l.move(...e),["stop"])),onTouchmovePassive:t[10]||(t[10]=Object(a["L"])((...e)=>l.move&&l.move(...e),["stop"])),onClick:t[11]||(t[11]=(...e)=>l.sliderClick&&l.sliderClick(...e)),class:"progressBar"},[oe,Object(a["g"])("div",{class:"thumb",onTouchstartPassive:t[2]||(t[2]=Object(a["L"])((...e)=>l.start&&l.start(...e),["stop"])),onMousedown:t[3]||(t[3]=Object(a["L"])((...e)=>l.start&&l.start(...e),["stop","prevent"])),onMousemove:t[4]||(t[4]=Object(a["L"])((...e)=>l.move&&l.move(...e),["stop"])),onTouchmovePassive:t[5]||(t[5]=Object(a["L"])((...e)=>l.move&&l.move(...e),["stop"])),onClick:t[6]||(t[6]=(...e)=>l.sliderClick&&l.sliderClick(...e))},[re],32),ie],32),Object(a["g"])("p",ue,Object(a["B"])(l.calcDuration),1)]),Object(a["g"])("div",de,[Object(a["g"])("h1",null,Object(a["B"])(l.MusicData.name),1),Object(a["g"])("h3",null,[Object(a["f"])(Object(a["B"])(l.MusicData.singer)+" ",1),Object(a["g"])("span",null,Object(a["B"])(l.FromNow),1)]),Object(a["g"])("div",be,[(Object(a["s"])(),Object(a["d"])("svg",{version:"1.1",id:"loop",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 489.935 489.935",style:{"enable-background":"new 0 0 489.935 489.935"},"xml:space":"preserve",onClick:t[12]||(t[12]=e=>l.musicLoop=!l.musicLoop),class:{active:l.musicLoop}},[pe],2)),(Object(a["s"])(),Object(a["d"])("svg",{onClick:t[13]||(t[13]=e=>l.musicMute=!l.musicMute),version:"1.1",id:"volume",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 500 500",style:{"enable-background":"new 0 0 500 500"},"xml:space":"preserve"},[Object(a["g"])("g",{class:{muted:l.musicMute}},[ge,me],2),!1===l.musicMute?(Object(a["s"])(),Object(a["d"])("g",Oe,[je,ve,he])):Object(a["e"])("",!0),!0===l.musicMute?(Object(a["s"])(),Object(a["d"])("g",fe,[ye,ke])):Object(a["e"])("",!0)])),(Object(a["s"])(),Object(a["d"])("svg",{onClick:t[14]||(t[14]=e=>l.showText=!l.showText),fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[we])),(Object(a["s"])(),Object(a["d"])("svg",{onClick:t[15]||(t[15]=(...e)=>l.changeCurrentTime&&l.changeCurrentTime(...e)),version:"1.1",id:"stop",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 500 500",style:{"enable-background":"new 0 0 500 500"},"xml:space":"preserve"},[xe]))])])])])]),Object(a["g"])("div",{class:["lyric",{Tshow:l.showText}]},[Object(a["g"])("span",{"aria-hidden":"true",onClick:t[16]||(t[16]=e=>l.showText=!l.showText)},[Object(a["g"])("b",null,Object(a["B"])(l.MusicData.singer)+" - "+Object(a["B"])(l.MusicData.name),1),Ce,Object(a["g"])("em",null,Object(a["B"])(l.Uploaded),1),Le]),Object(a["g"])("p",{lang:"fa",innerHTML:l.MusicData.text},null,8,["innerHTML"])],2)])}var Pe=c("5a0c"),Se=c.n(Pe),Me=c("4208"),Ee=c.n(Me),Te={props:{musicData:Array},setup(e){let t=Object(a["x"])(!1);const c=Object(a["x"])(null);let l=Object(a["x"])(!1);const n=Object(a["x"])(e.musicData[0]);let s=Object(a["x"])(!1),o=Object(a["x"])(!1);const r="https://rapgap.herokuapp.com",i=r+"/uploads/media/";let u,d,b,p,g,m,O,j,v,h,f=150,y=0;d=new Audio,d.autoplay=!1,d.crossOrigin="anonymous",d.preload="none",d.src||fetch(i+n.value.music.Key,{method:"GET",headers:{"Access-Control-Allow_Origin":"*"}}).then(e=>{const t=e.body.getReader();return new ReadableStream({start(e){return c();function c(){return t.read().then(({done:t,value:a})=>{if(!t)return e.enqueue(a),c();e.close()})}}})}).then(e=>new Response(e)).then(e=>e.blob()).then(e=>window.URL.createObjectURL(e)).then(e=>d.src=e).catch(e=>console.error(e)),Object(a["p"])(()=>{O=document.getElementById("canvas"),c.value=i+e.musicData[0].cover.Key;let a=window.AudioContext||window.webkitAudioContext;m=O.getContext("2d"),u=new a,b=new AnalyserNode(u,{fftSize:512,smoothingTimeConstant:.8});const l=u.createMediaElementSource(d),s=u.createGain();s.gain.value=1,l.connect(b).connect(s).connect(u.destination);let o=b.frequencyBinCount;g=new Uint8Array(o),document.title=`${n.value.singer} - ${n.value.name}`,document.addEventListener("mousemove",H),document.addEventListener("touchmove",H,{passive:!0}),document.addEventListener("mouseup",V),document.addEventListener("touchend",V),j=document.querySelector(".progressBar"),v=j.querySelector(".thumb"),h=j.querySelector(".progress"),window.innerWidth>780&&(t.value=!0),document.addEventListener("keyup",e=>{let t=e.keyCode;32===t&&C()})});let k=Object(a["x"])(!1);const w=()=>{"setPositionState"in navigator.mediaSession&&navigator.mediaSession.setPositionState({duration:d.duration,playbackRate:d.playbackRate,position:d.currentTime})},x=()=>{if("mediaSession"in navigator){navigator.mediaSession.metadata=new MediaMetadata({title:n.value.name,artist:n.value.singer,album:n.value.album,artwork:[{src:i+n.value.cover.Key}]}),navigator.mediaSession.setActionHandler("seekto",(function(e){e.fastSeek&&"fastSeek"in d?d.fastSeek(e.seekTime):(d.currentTime=e.seekTime,w())})),navigator.mediaSession.setActionHandler("play",C),navigator.mediaSession.setActionHandler("pause",C);let e=10;navigator.mediaSession.setActionHandler("seekforward",(function(t){e=t.seekOffset||5,d.currentTime=Math.min(d.currentTime+e,d.duration),w()})),navigator.mediaSession.setActionHandler("seekbackward",(function(t){e=t.seekOffset||5,d.currentTime=Math.max(d.currentTime-e,0),w()}))}},C=()=>{k.value?(d.pause(),cancelAnimationFrame(p),k.value=!1,navigator.mediaSession.playbackState="paused"):(d.play().then(()=>{navigator.mediaSession.playbackState="playing",x()}).catch(e=>console.error(e)),N(),k.value=!0),d.onended=()=>{k.value=!1,d.currentTime=0},d.onpause=()=>{k.value=!1},d.onplay=()=>{k.value=!0},d.ontimeupdate=function(e){e.stopPropagation(),L(),d.loop=s.value,d.muted=o.value},d.onwaiting=()=>{l.value=!0}},L=()=>{const e=parseFloat(n.value.duration);S(d.currentTime,e),l.value=!1};let U=0,P=Object(a["w"])({start:null,end:null,dragging:!1});const S=(e,t)=>{let c=100/t*e;U=c.toFixed(1),h&&v&&(P.dragging?(h.style.width=U+"%",M(e)):(h.style.width=U+"%",v.style.left=U+"%",M(e)))},M=e=>{const t=document.querySelector(".currentTime");let c=parseInt(e/60)%60,a=e%60,l=a.toFixed(),n=(c<10?"0"+c:c)+":"+(l<10?"0"+l:l);t&&(t.innerHTML=n)};let E,T=0,A=0,D=0;const N=()=>{const e=document.querySelector(".coverPic");O.width=e.clientWidth,O.height=e.clientHeight;let t=O.width/2,c=O.height/2;A+=1e-5*D,D=0,b.getByteFrequencyData(g);for(let n=0;n<f;n++){let e=2*Math.PI/f,a=Math.min(999,Math.max(2.5*g[n]-150,0)/3);y=.02*a;let l=t+Math.cos(e*n)*T,s=c+Math.sin(e*n)*T,o=t+Math.cos(e*n)*(T+a),r=c+Math.sin(e*n)*(T+a);B(l,s,o,r,y,g[n]),D+=a}let a=T;T=15+.004*D;let l=T-a;m.lineWidth=1,m.fillStyle="rgba(135, 206, 235, 0.5)",m.beginPath(),m.arc(t,c,T,0,2*Math.PI,!1),m.fill(),E+=50,m.lineWidth=50,m.strokeStyle="rgba(135, 206, 235, 0.2)",m.beginPath(),m.arc(t,c,E+T,0,2*Math.PI,!1),m.stroke(),l>8&&(E=0,m.fillStyle="rgba(0, 0, 0, 0.2)",m.fillRect(0,0,O.width,O.height),A+=.4),p=requestAnimationFrame(N)},B=(e,t,c,a,l,n)=>{let s=`rgb(${n}, ${2*n}, 255)`;m.strokeStyle=s,m.lineWidth=l,m.beginPath(),m.moveTo(e,t),m.lineTo(c,a),m.stroke()},F=e=>{e.stopPropagation(),d.pause(),d.currentTime=0},q=Object(a["b"])(()=>{let e=parseFloat(n.value.duration),t=Math.floor(e/60);t<10&&(t="0"+String(t));let c=Math.floor(e%60);return c<10&&(c="0"+String(c)),t+":"+c}),K=Se()(n.value.created);Se.a.extend(Ee.a);const _=Object(a["b"])(()=>{const e=Se()().to(K);return e}),R=Object(a["b"])(()=>{const e=K.format("DD MMMM YYYY");return e});Object(a["n"])(()=>{cancelAnimationFrame(p),d.pause(),d.currentTime=0,d.src=null,document.title="Welcome To RapGap"});const z=e=>{P.dragging=!0,v.querySelector("div").classList.add("drag")};let I=0;const H=e=>{e.stopPropagation();let t=j.getBoundingClientRect().left;if(P.dragging){let c=e.clientX||e.touches[0].clientX;if(c<t)I=0;else if(c>j.offsetWidth+t)I=j.offsetWidth;else{P.start=c-t,I=P.start/j.offsetWidth*100;let e=I.toFixed(1);v.style.left=e+"%"}}},V=e=>{if(e.stopPropagation(),P.dragging){P.dragging=!1,v.querySelector("div").classList.remove("drag");const e=n.value.duration/100*I.toFixed(1);d.currentTime=e}},$=e=>{const t=e.clientX||e.touches[0].clientX;let c=j.getBoundingClientRect().left,a=t-c,l=a/j.offsetWidth*100,s=n.value.duration/100*l.toFixed(1);d.currentTime=s,v.style.left=l+"%",h.style.width=l+"%"};return{playPause:C,cover:c,props:e,URL:i,canvas:O,MusicData:n,isPlaying:k,showText:t,loading:l,changeCurrentTime:F,calcDuration:q,FromNow:_,Uploaded:R,musicLoop:s,musicMute:o,start:z,end:V,move:H,sliderClick:$}}};c("447b");Te.render=Ue;var Ae=Te,De={components:{Slider:G,Player:Ae},setup(){const e=Object(a["x"])(!0),t=Object(a["x"])(!1);let c=Object(a["x"])(null),l=Object(a["x"])(null),n=Object(a["x"])(null),s=Object(a["w"])({name:null,singer:null,album:null,coverDesigner:null,composer:null,duration:null,fromNow:null,uploaded:null});const o="https://rapgap.herokuapp.com",r=o+"/uploads";fetch(r).then(e=>e.json()).then(t=>{c.value=t,l.value=t.map(e=>({Key:e.cover.Key,_id:e._id})),b(c.value[0]),e.value=!1}).catch(e=>{console.log(e)});const i=e=>{n.value=c.value.filter(t=>t._id===e._id),t.value=!0},u=e=>{const t=c.value.filter(t=>t._id===e);b(t[0])},d=e=>{const t=c.value.filter(t=>t._id===e);b(t[0])},b=e=>{s.name=e.name,s.singer=e.singer,s.album=e.album,s.duration=p(e.duration),s.coverDesigner=e.coverDesigner,s.composer=e.composer;const t=Se()(e.created);Se.a.extend(Ee.a),s.fromNow=Se()().to(t),s.uploaded=t.format("DD MMMM YYYY")},p=e=>{let t=parseFloat(e),c=Math.floor(t/60);c<10&&(c="0"+String(c));let a=Math.floor(t%60);return a<10&&(a="0"+String(a)),c+":"+a};return{loading:e,images:l,Posts:c,onPlay:i,currentMusic:n,close:t,next:u,previous:d,currentIndex:s}}};c("b929");De.render=z;var Ne=De,Be=c("4359"),Fe=c.n(Be);const qe={key:0,class:"loading"},Ke=Object(a["g"])("img",{src:Fe.a,alt:"Upload"},null,-1),_e={key:2,class:"postCon"},Re={key:3,class:"container"},ze={key:0},Ie={key:1},He={class:"input-group"},Ve=Object(a["g"])("label",{class:"placeholder",for:"name"},"Enter song name",-1),$e={class:"input-group"},Xe=Object(a["g"])("label",{class:"placeholder",for:"singer"},"Singer name",-1),We={class:"input-group"},Ye=Object(a["g"])("label",{class:"placeholder",for:"album"},"Albume name",-1),Je={class:"input-group"},Ge=Object(a["g"])("label",{class:"placeholder",for:"composer"},"Composer name",-1),Qe={class:"input-group"},Ze=Object(a["g"])("label",{class:"placeholder",for:"coverDesigner"},"Cover designer name",-1),et=Object(a["g"])("h3",{class:"musicName"},"Choose Music",-1),tt={key:0,class:"time"},ct={class:"security"},at=Object(a["g"])("p",{class:"response"}," By accepting this session you allow website to use your music in the main page. ",-1),lt={class:"public"},nt=Object(a["g"])("p",null,"Access Public",-1),st={class:"content"},ot={key:0,class:"checkmark",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 52 52"},rt=Object(a["g"])("circle",{class:"checkmark__circle",cx:"26",cy:"26",r:"25",fill:"none"},null,-1),it=Object(a["g"])("path",{class:"checkmark__check",fill:"none",d:"M14.1 27.2l7.1 7.2 16.7-16.8"},null,-1),ut={key:1,class:"checkmark",viewBox:"0 0 496 496",xmlns:"http://www.w3.org/2000/svg"},dt=Object(a["g"])("path",{d:"m248 8c-132.546875 0-240 107.453125-240 240s107.453125 240 240 240 240-107.453125 240-240-107.453125-240-240-240zm107.480469 347.480469-107.480469-107.480469-107.480469 107.480469 107.480469-107.480469-107.480469-107.480469 107.480469 107.480469 107.480469-107.480469-107.480469 107.480469zm0 0",fill:"#ff6243"},null,-1),bt=Object(a["g"])("g",{fill:"#231f20"},[Object(a["g"])("path",{d:"m248 0c-136.964844 0-248 111.035156-248 248s111.035156 248 248 248 248-111.035156 248-248c-.160156-136.902344-111.097656-247.839844-248-248zm0 480c-128.128906 0-232-103.871094-232-232s103.871094-232 232-232 232 103.871094 232 232c-.140625 128.070312-103.929688 231.859375-232 232zm0 0"}),Object(a["g"])("path",{d:"m361.136719 134.863281c-3.125-3.121093-8.1875-3.121093-11.3125 0l-101.824219 101.824219-101.824219-101.824219c-2.007812-2.078125-4.984375-2.914062-7.78125-2.179687-2.796875.730468-4.980469 2.914062-5.710937 5.710937-.734375 2.796875.101562 5.773438 2.179687 7.78125l101.824219 101.824219-101.824219 101.824219c-2.078125 2.007812-2.914062 4.984375-2.179687 7.78125.730468 2.796875 2.914062 4.980469 5.710937 5.710937 2.796875.734375 5.773438-.101562 7.78125-2.179687l101.824219-101.824219 101.824219 101.824219c3.140625 3.03125 8.128906 2.988281 11.214843-.097657 3.085938-3.085937 3.128907-8.074218.097657-11.214843l-101.824219-101.824219 101.824219-101.824219c3.121093-3.125 3.121093-8.1875 0-11.3125zm0 0"})],-1);function pt(e,t,c,l,n,s){const o=Object(a["z"])("UserPosts");return Object(a["s"])(),Object(a["d"])(a["a"],null,[l.isLoading?(Object(a["s"])(),Object(a["d"])("div",qe)):Object(a["e"])("",!0),!1===l.uploadMusic?(Object(a["s"])(),Object(a["d"])("div",{key:1,class:"upload",onClick:t[1]||(t[1]=e=>l.toggleSection("Uploads"))},[Ke])):Object(a["e"])("",!0),!1===l.uploadMusic?(Object(a["s"])(),Object(a["d"])("h1",_e,Object(a["B"])(e.$store.state.User.userName)+"/dashboard/Posts ",1)):Object(a["e"])("",!0),!l.isLoading&&l.uploadMusic?(Object(a["s"])(),Object(a["d"])("div",Re,[l.uploadMusicForm?(Object(a["s"])(),Object(a["d"])("h1",ze,[Object(a["f"])(Object(a["B"])(e.$store.state.User.userName)+" : "+Object(a["B"])(l.Data.name)+" ",1),Object(a["g"])("span",{onClick:t[2]||(t[2]=Object(a["L"])((...e)=>l.cancel&&l.cancel(...e),["prevent"]))},"Cancel")])):Object(a["e"])("",!0),l.uploadMusicForm&&!l.isLoading?(Object(a["s"])(),Object(a["d"])("form",Ie,[Object(a["g"])("div",He,[Object(a["K"])(Object(a["g"])("input",{onKeydown:t[3]||(t[3]=(...e)=>l.removeError&&l.removeError(...e)),"onUpdate:modelValue":t[4]||(t[4]=e=>l.Data.name=e),type:"text",id:"name",autocomplete:"off",required:""},null,544),[[a["F"],l.Data.name]]),Ve]),Object(a["g"])("div",$e,[Object(a["K"])(Object(a["g"])("input",{onKeydown:t[5]||(t[5]=(...e)=>l.removeError&&l.removeError(...e)),"onUpdate:modelValue":t[6]||(t[6]=e=>l.Data.singer=e),type:"text",name:"singer",id:"singer",autocomplete:"off",required:""},null,544),[[a["F"],l.Data.singer]]),Xe]),Object(a["g"])("div",We,[Object(a["K"])(Object(a["g"])("input",{onKeydown:t[7]||(t[7]=(...e)=>l.removeError&&l.removeError(...e)),"onUpdate:modelValue":t[8]||(t[8]=e=>l.Data.album=e),type:"text",name:"album",id:"album",autocomplete:"off",required:""},null,544),[[a["F"],l.Data.album]]),Ye]),Object(a["g"])("div",Je,[Object(a["K"])(Object(a["g"])("input",{onKeydown:t[9]||(t[9]=(...e)=>l.removeError&&l.removeError(...e)),"onUpdate:modelValue":t[10]||(t[10]=e=>l.Data.composer=e),type:"text",name:"composer",id:"composer",autocomplete:"off",required:""},null,544),[[a["F"],l.Data.composer]]),Ge]),Object(a["g"])("div",Qe,[Object(a["K"])(Object(a["g"])("input",{onKeydown:t[11]||(t[11]=(...e)=>l.removeError&&l.removeError(...e)),"onUpdate:modelValue":t[12]||(t[12]=e=>l.Data.coverDesigner=e),type:"text",name:"coverDesigner",id:"coverDesigner",autocomplete:"off",required:""},null,544),[[a["F"],l.Data.coverDesigner]]),Ze]),Object(a["K"])(Object(a["g"])("textarea",{onKeydown:t[13]||(t[13]=(...e)=>l.removeError&&l.removeError(...e)),"onUpdate:modelValue":t[14]||(t[14]=e=>l.textArea=e),placeholder:"Songs text ...",id:"text",cols:"30",rows:"10",wrap:"off"},null,544),[[a["F"],l.textArea]]),Object(a["g"])("input",{class:"cover",type:"file",accept:"Image/jpeg, Image/png",onChange:t[15]||(t[15]=(...e)=>l.selectFile&&l.selectFile(...e))},null,32),Object(a["g"])("input",{class:"music",type:"file",accept:"audio/mp3",onChange:t[16]||(t[16]=(...e)=>l.selectFile&&l.selectFile(...e))},null,32),l.selectedCover?(Object(a["s"])(),Object(a["d"])("div",{key:0,class:"img",style:{backgroundImage:"url("+l.selectedCover+")"},onClick:t[17]||(t[17]=(...e)=>l.toggleCss&&l.toggleCss(...e))},null,4)):(Object(a["s"])(),Object(a["d"])("div",{key:1,onClick:t[18]||(t[18]=Object(a["L"])(e=>l.selectInput(".cover"),["prevent"])),class:"img else"}," Click here to choose the cover ")),Object(a["g"])("div",{class:"music",onClick:t[20]||(t[20]=Object(a["L"])(e=>l.selectInput(".music"),["prevent"]))},[et,l.music?(Object(a["s"])(),Object(a["d"])("p",tt)):Object(a["e"])("",!0),l.music?(Object(a["s"])(),Object(a["d"])("div",{key:1,class:["playIcone",{play:l.isPlaying}],onClick:t[19]||(t[19]=(...e)=>l.play&&l.play(...e))},null,2)):Object(a["e"])("",!0)]),Object(a["g"])("div",ct,[at,Object(a["g"])("div",lt,[nt,Object(a["g"])("input",{onChange:t[21]||(t[21]=(...e)=>l.checked&&l.checked(...e)),type:"checkbox"},null,32)]),Object(a["g"])("button",{onClick:t[22]||(t[22]=Object(a["L"])((...e)=>l.Upload&&l.Upload(...e),["prevent"]))},"Upload")])])):Object(a["e"])("",!0)])):Object(a["e"])("",!0),l.UploadMessage?(Object(a["s"])(),Object(a["d"])("div",{key:4,class:["message",{error:l.messageError}]},[Object(a["g"])("div",st,[0==l.messageError?(Object(a["s"])(),Object(a["d"])("svg",ot,[rt,it])):Object(a["e"])("",!0),l.messageError?(Object(a["s"])(),Object(a["d"])("svg",ut,[dt,bt])):Object(a["e"])("",!0),Object(a["g"])("div",null,[Object(a["g"])("h1",null,Object(a["B"])(l.UploadMessage),1),Object(a["g"])("button",{onClick:t[23]||(t[23]=(...e)=>l.closeMsg&&l.closeMsg(...e))}," Close ")])])],2)):Object(a["e"])("",!0),l.userPosts&&!1===l.uploadMusicForm?(Object(a["s"])(),Object(a["d"])(o,{key:5,data:l.userPosts,onEdit:l.onEdit,onCancel:l.cancel},null,8,["data","onEdit","onCancel"])):Object(a["e"])("",!0)],64)}var gt=c("bc3a"),mt=c.n(gt),Ot=c("6582"),jt=c.n(Ot),vt=c("d739"),ht=c.n(vt);const ft=Object(a["M"])("data-v-8705e3e6");Object(a["v"])("data-v-8705e3e6");const yt={key:0,class:"posts"},kt={key:0},wt=Object(a["g"])("h1",null,"You have no uploaded post yet.",-1),xt={class:"name"},Ct=Object(a["g"])("label",null,"Edit",-1),Lt=Object(a["g"])("img",{src:jt.a,alt:""},null,-1),Ut=Object(a["g"])("label",null,"Delete",-1),Pt=Object(a["g"])("img",{src:ht.a,alt:""},null,-1),St=Object(a["g"])("label",{for:"checkbox"},"Access",-1),Mt={class:"content"},Et={key:0,class:"checkmark",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 52 52"},Tt=Object(a["g"])("circle",{class:"checkmark__circle",cx:"26",cy:"26",r:"25",fill:"none"},null,-1),At=Object(a["g"])("path",{class:"checkmark__check",fill:"none",d:"M14.1 27.2l7.1 7.2 16.7-16.8"},null,-1),Dt={key:1,class:"checkmark",viewBox:"0 0 496 496",xmlns:"http://www.w3.org/2000/svg"},Nt=Object(a["g"])("path",{d:"m248 8c-132.546875 0-240 107.453125-240 240s107.453125 240 240 240 240-107.453125 240-240-107.453125-240-240-240zm107.480469 347.480469-107.480469-107.480469-107.480469 107.480469 107.480469-107.480469-107.480469-107.480469 107.480469 107.480469 107.480469-107.480469-107.480469 107.480469zm0 0",fill:"#ff6243"},null,-1),Bt=Object(a["g"])("g",{fill:"#231f20"},[Object(a["g"])("path",{d:"m248 0c-136.964844 0-248 111.035156-248 248s111.035156 248 248 248 248-111.035156 248-248c-.160156-136.902344-111.097656-247.839844-248-248zm0 480c-128.128906 0-232-103.871094-232-232s103.871094-232 232-232 232 103.871094 232 232c-.140625 128.070312-103.929688 231.859375-232 232zm0 0"}),Object(a["g"])("path",{d:"m361.136719 134.863281c-3.125-3.121093-8.1875-3.121093-11.3125 0l-101.824219 101.824219-101.824219-101.824219c-2.007812-2.078125-4.984375-2.914062-7.78125-2.179687-2.796875.730468-4.980469 2.914062-5.710937 5.710937-.734375 2.796875.101562 5.773438 2.179687 7.78125l101.824219 101.824219-101.824219 101.824219c-2.078125 2.007812-2.914062 4.984375-2.179687 7.78125.730468 2.796875 2.914062 4.980469 5.710937 5.710937 2.796875.734375 5.773438-.101562 7.78125-2.179687l101.824219-101.824219 101.824219 101.824219c3.140625 3.03125 8.128906 2.988281 11.214843-.097657 3.085938-3.085937 3.128907-8.074218.097657-11.214843l-101.824219-101.824219 101.824219-101.824219c3.121093-3.125 3.121093-8.1875 0-11.3125zm0 0"})],-1),Ft={key:5,class:"loading"};Object(a["t"])();const qt=ft((e,t,c,l,n,s)=>{const o=Object(a["z"])("editMusic");return Object(a["s"])(),Object(a["d"])(a["a"],null,[l.close?Object(a["e"])("",!0):(Object(a["s"])(),Object(a["d"])("div",yt,[0===l.data.length?(Object(a["s"])(),Object(a["d"])("div",kt,[wt])):Object(a["e"])("",!0),(Object(a["s"])(!0),Object(a["d"])(a["a"],null,Object(a["y"])(l.data,e=>(Object(a["s"])(),Object(a["d"])("div",{key:e._id},[Object(a["g"])("div",{onClick:Object(a["L"])(t=>l.edit(e,t),["prevent"]),style:l.background(e)},null,12,["onClick"])]))),128))])),l.EditSelectedPost&&l.close?(Object(a["s"])(),Object(a["d"])(o,{key:1,onFinshed:l.onFinish,onCancel:l.onCancel,data:l.EditSelectedPost},null,8,["onFinshed","onCancel","data"])):Object(a["e"])("",!0),l.controller?(Object(a["s"])(),Object(a["d"])("div",{key:2,class:"window",onClick:t[1]||(t[1]=e=>l.edit(null,e))})):Object(a["e"])("",!0),l.currentSelectedPost&&l.controller?(Object(a["s"])(),Object(a["d"])("div",{key:3,class:"controller",style:{top:l.position.top+"px",left:l.position.left+"px",bottom:l.position.bottom+"px"}},[Object(a["g"])("div",xt,[Object(a["g"])("p",null,Object(a["B"])(l.currentSelectedPost.name),1),Object(a["g"])("p",null,Object(a["B"])(l.fromNow(l.currentSelectedPost.created)),1)]),Object(a["g"])("ul",{onClick:t[2]||(t[2]=(...e)=>l.editInit&&l.editInit(...e))},[Ct,Lt]),Object(a["g"])("ul",{onClick:t[3]||(t[3]=Object(a["L"])((...e)=>l.deleteMsg&&l.deleteMsg(...e),["prevent"]))},[Ut,Pt]),Object(a["g"])("ul",null,[St,Object(a["K"])(Object(a["g"])("input",{type:"checkbox",id:"checkbox",name:"checkbox","onUpdate:modelValue":t[4]||(t[4]=e=>l.currentSelectedPost.public=e),onChange:t[5]||(t[5]=(...e)=>l.publicChange&&l.publicChange(...e))},null,544),[[a["D"],l.currentSelectedPost.public]])])],4)):Object(a["e"])("",!0),l.uploadMessage?(Object(a["s"])(),Object(a["d"])("div",{key:4,class:["message",{error:l.messageError}]},[Object(a["g"])("div",Mt,[0==l.messageError?(Object(a["s"])(),Object(a["d"])("svg",Et,[Tt,At])):Object(a["e"])("",!0),l.messageError?(Object(a["s"])(),Object(a["d"])("svg",Dt,[Nt,Bt])):Object(a["e"])("",!0),Object(a["g"])("div",null,[Object(a["g"])("h1",null,Object(a["B"])(l.uploadMessage),1),Object(a["g"])("div",null,[Object(a["g"])("button",{onClick:t[6]||(t[6]=(...e)=>l.finishUpload&&l.finishUpload(...e))}," Close section "),l.deleteBtn?(Object(a["s"])(),Object(a["d"])("button",{key:0,onClick:t[7]||(t[7]=Object(a["L"])((...e)=>l.deleteInit&&l.deleteInit(...e),["prevent"]))},"Delete")):Object(a["e"])("",!0)])])])],2)):Object(a["e"])("",!0),l.loading?(Object(a["s"])(),Object(a["d"])("div",Ft)):Object(a["e"])("",!0)],64)}),Kt={class:"editContainer"},_t={class:"grid"},Rt={class:"Edit"},zt={class:"input-group"},It=Object(a["g"])("label",{class:"placeholder",for:"name"},"name",-1),Ht={class:"input-group"},Vt=Object(a["g"])("label",{class:"placeholder",for:"singer"},"Singer",-1),$t={class:"input-group"},Xt=Object(a["g"])("label",{class:"placeholder",for:"album"},"Ablum",-1),Wt={class:"input-group"},Yt=Object(a["g"])("label",{class:"placeholder",for:"coverDesigner"},"Cover Designer",-1),Jt={class:"input-group"},Gt=Object(a["g"])("label",{class:"placeholder",for:"composer"},"Composer",-1);function Qt(e,t,c,l,n,s){return Object(a["s"])(),Object(a["d"])("div",Kt,[Object(a["g"])("h1",null,"Edit => "+Object(a["B"])(l.data.name),1),Object(a["g"])("div",_t,[Object(a["g"])("div",Rt,[Object(a["g"])("div",zt,[Object(a["K"])(Object(a["g"])("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>l.data.name=e),type:"text",name:"name",id:"name",autocomplete:"off",required:""},null,512),[[a["F"],l.data.name]]),It]),Object(a["g"])("div",Ht,[Object(a["K"])(Object(a["g"])("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>l.data.singer=e),type:"text",name:"singer",id:"singer",autocomplete:"off",required:""},null,512),[[a["F"],l.data.singer]]),Vt]),Object(a["g"])("div",$t,[Object(a["K"])(Object(a["g"])("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>l.data.album=e),type:"text",name:"album",id:"album",autocomplete:"off",required:""},null,512),[[a["F"],l.data.album]]),Xt]),Object(a["g"])("div",Wt,[Object(a["K"])(Object(a["g"])("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>l.data.coverDesigner=e),type:"text",name:"coverDesigner",id:"coverDesigner",autocomplete:"off",required:""},null,512),[[a["F"],l.data.coverDesigner]]),Yt]),Object(a["g"])("div",Jt,[Object(a["K"])(Object(a["g"])("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>l.data.composer=e),type:"text",name:"composer",id:"composer",autocomplete:"off",required:""},null,512),[[a["F"],l.data.composer]]),Gt]),Object(a["g"])("button",{onClick:t[6]||(t[6]=Object(a["L"])((...e)=>l.cancel&&l.cancel(...e),["prevent"]))},"Cancel"),Object(a["g"])("button",{onClick:t[7]||(t[7]=Object(a["L"])((...e)=>l.save&&l.save(...e),["prevent"]))},"Save")]),Object(a["K"])(Object(a["g"])("textarea",{id:"text","onUpdate:modelValue":t[8]||(t[8]=e=>l.text=e),placeholder:"Songs text ..."},null,512),[[a["F"],l.text]])]),l.p?(Object(a["s"])(),Object(a["d"])("p",{key:0,ref:"p",innerHTML:l.p},null,8,["innerHTML"])):Object(a["e"])("",!0)])}var Zt={props:{data:{type:Object}},emits:["cancel"],setup(e,{emit:t}){let c=Object(a["x"])(null);const l=Object(a["x"])(e.data);let n=Object(a["x"])(l.value.text.replace(/<br ?\/?>/gi,"\n"));const s=Object(x["b"])(),o=()=>{t("cancel")},r="https://rapgap.herokuapp.com",i=()=>{l.value.text=n.value,l.value.text=l.value.text.replace(/(\r\n|\n|\r)/gm,"<br>");let e=JSON.stringify(l.value);const t=`${r}/uploads/update/${l.value._id}`;u(t,e)},u=(e,c)=>{fetch(e,{method:"put",headers:new Headers({Authorization:"Bearer "+s.state.User.token,"Content-Type":"application/json"}),body:c}).then(e=>e.json()).then(e=>{t("cancel")}).catch(e=>console.log(e))};return{data:l,cancel:o,save:i,text:n,p:c}}};c("4bf6");Zt.render=Qt;var ec=Zt,tc={components:{editMusic:ec},props:{data:{type:Array}},emits:["cancel","edit"],setup(e,{emit:t}){const c=Object(x["b"])(),l="https://rapgap.herokuapp.com",n=l+"/uploads/media/",s=Object(a["x"])(e.data);let o=Object(a["x"])(!1),r=Object(a["x"])(!1),i=Object(a["x"])(!1),u=Object(a["x"])(!1),d=Object(a["x"])(!1);const b=Object(a["x"])(null);Se.a.extend(Ee.a);let p=Object(a["x"])(!1),g=Object(a["x"])(null),m=Object(a["x"])({top:0,left:0,bottom:0});const O=(e,t)=>{u.value||(g.value=e,p.value=!p.value,window.innerWidth<780?(m.value.bottom=0,m.value.top="auto",m.value.left="auto"):(m.value.top=t.pageY-60,m.value.left=t.pageX,m.value.bottom="auto"))},j=()=>{null!=g.value&&(b.value=g.value,o.value=!0,t("edit"),p.value=!1)},v=()=>{o.value=!1,b.value=null,t("cancel")},h=e=>{const t=Se()(e),c=Se()().to(t);return c};let f=()=>{i.value=!0,d.value=!0,r.value=`Are you Sure You want to delete "${g.value.name}"`};const y=()=>{i.value=!1,r.value=!1,u.value=!0;const e=g.value._id,t=`${l}/uploads/delete/${e}`;g.value=null,fetch(t,{method:"DELETE",headers:{Authorization:"Bearer "+c.state.User.token}}).then(e=>e.json()).then(t=>{setTimeout(()=>{s.value.filter((t,c)=>{t._id===e&&s.value.splice(c,1),r.value="Successfully deleted post!",u.value=!1,p.value=!1,d.value=!1})},3e3)}).catch(e=>{r.value="Something went wrong!",i.value=!0,u.value=!1,p.value=!1,d.value=!1})},k=()=>{o.value=!1,b.value=null,t("finish")},w=e=>({backgroundImage:"url("+n+e.cover.Key+")"}),C=()=>(r.value=!1,i.value=!1,!0),L=()=>{const e=`${l}/uploads/update/${g.value._id}`;fetch(e,{method:"put",headers:new Headers({Authorization:"Bearer "+c.state.User.token,"Content-Type":"application/json"}),body:JSON.stringify({public:g.value.public})}).then(e=>e.json()).then(e=>{console.log(e)}).catch(e=>console.log(e))};return{data:s,URL:n,edit:O,EditSelectedPost:b,fromNow:h,onCancel:v,controller:p,currentSelectedPost:g,editInit:j,deleteMsg:f,position:m,close:o,onFinish:k,background:w,uploadMessage:r,messageError:i,finishUpload:C,loading:u,deleteBtn:d,deleteInit:y,publicChange:L}}};c("2002");tc.render=qt,tc.__scopeId="data-v-8705e3e6";var cc=tc,ac={components:{UserPosts:cc},setup(){let e=Object(a["w"])({name:null,album:null,singer:null,composer:null,coverDesigner:null,text:null,public:!1,duration:null,size:null});const t=Object(a["x"])(null),c=Object(a["x"])(null),l=Object(C["c"])(),n=Object(C["d"])(),s=Object(x["b"])();let o=Object(a["x"])(null),r=Object(a["x"])(!1),i=Object(a["x"])(!1),u=Object(a["x"])(!1),d=Object(a["x"])(!1);const b=Object(a["x"])(null),p=Object(a["x"])(null),g=Object(a["x"])(null),m="https://rapgap.herokuapp.com";let O=Object(a["x"])(!1);const j=new Audio,v=window.URL||window.webkitURL,h=t=>{const c=new FileReader,a=document.createElement("audio");let l;document.title=t.name.split(".mp3")[0],c.onload=c=>{a.src=c.target.result;let n=setInterval(()=>{if(4===a.readyState){l=a.duration;let c=Math.floor(l/60);c<10&&(c="0"+String(c));let s=Math.floor(l%60);s<10&&(s="0"+String(s));const o=t.size/1024/1024,r=document.querySelector(".time");r.textContent=c+":"+s+" , "+o.toFixed(2)+" MB",e.duration=l,e.size=o.toFixed(2)+" MB",clearInterval(n)}},1e3)},c.readAsDataURL(t)},f=e=>{if(e.stopPropagation(),v)if(p.value){const e=v.createObjectURL(p.value);j.src?O.value?(O.value=!1,j.pause()):(O.value=!0,j.play()):(j.src=e,O.value=!0,j.load())}else console.log("select a music");else console.log("Not Supported blob");j.onended=()=>{O.value=!1},j.onpause=()=>{O.value=!1},j.onplay=()=>{O.value=!0}},y=e=>{const t=new FileReader;t.onload=e=>{g.value=e.target.result},t.readAsDataURL(e)},k=e=>{O.value=!1,j.src=v.createObjectURL(e),j.load()},w=e=>{const t=e.target.files[0];if(t)if("image/png"===t.type||"image/jpeg"===t.type)b.value=t,y(b.value);else if("audio/mpeg"===t.type){const e=document.querySelector(".musicName");p.value=t,e.textContent=p.value.name.split(".mp3")[0],k(t),h(t);const c=document.querySelector("div.music.error");c&&c.classList.remove("error")}else console.log("Do not support file type, choose another one!");else console.log("Choose a file")},L=e=>{document.querySelector(e).click()},U=e=>{const t=getComputedStyle(e.target);"contain"===t.backgroundSize?e.target.style.backgroundSize="cover":e.target.style.backgroundSize="contain"},P=(e,t)=>{"Uploads"===e?(i.value=!0,d.value=!0):d.value=!1,T()},S=c=>{c.preventDefault(),e.text=t.value.replace(/(\r\n|\n|\r)/gm,"<br>");const a=[b.value,p.value,JSON.stringify(e)],l=m+"/uploads",d=new FormData,O=document.querySelector(".response"),j=Object.values(e),v=Object.keys(e);if(v.splice(5),j.splice(5),j.forEach((e,t)=>{if(null===e||""===e){let e=v[t],c=document.getElementById(e);c.parentElement.classList.add("error"),O.innerHTML="pelase fill the red fields!"}}),null===t.value||""===t.value){const e=document.getElementById("text");e.classList.add("error")}if(null===e.text||""===e.text){const e=document.getElementById("text");e.classList.add("error")}if(null===g.value||""===g.value){const e=document.querySelector("div.else");e.classList.add("error")}if(null===p.value||""===p.value){const e=document.querySelector("div.music");e.classList.add("error")}else{i.value=!1,u.value=!0,a.forEach(e=>d.append("data",e));const e={"Content-Type":"multipart/form-data; charset=utf-8; boundary="+Math.random().toString().substr(2),Authorization:"Bearer "+s.state.User.token},t=(e,t,c)=>{setTimeout(()=>{200===c?(i.value=!0,u.value=!1,o.value=e):(i.value=!0,u.value=!1,o.value=e,r.value=!0)},t)};mt.a.post(l,d,{headers:e}).then(e=>{t(e.data.message,3e3,200)}).catch(e=>{"TokenExpiredError"===e.response.data.err.name&&(s.commit("setUser",null),s.commit("setAuthentication",!1),n.push("/login")),t(e.response.data.message,3e3,400),document.querySelector(".message").classList.add("error")})}},M=t=>{t.stopPropagation(),e.public=t.target.checked},E=e=>{const t=e.target.parentElement;t.classList.contains("error")&&t.classList.remove("error"),e.target.classList.contains("error")&&e.target.classList.remove("error")},T=()=>{o.value=null,i.value=!0,u.value=!1,e.name=null,e.album=null,e.singer=null,e.composer=null,e.coverDesigner=null,e.text=null,t.value=null,e.duration=null,e.size=null,e.public=!1,g.value=null,p.value=null};Object(a["I"])(()=>{"/dashboard"!=l.path&&!0===O.value&&P()});const A=(e,t)=>{const c={Authorization:"Bearer "+s.state.User.token};mt.a.get(e,{headers:c}).then(e=>{t(e.data)}).catch(e=>{console.log(e)})};if(null===c.value){const e=m+"/uploads/userPosts";A(e,e=>{c.value=e})}const D=()=>{i.value=!i.value,d.value=!1},N=()=>{i.value=!1,d.value=!1},B=()=>{o.value=!1,r.value=!1};return{Data:e,selectFile:w,uploadMusic:i,selectInput:L,selectedCover:g,toggleCss:U,Upload:S,play:f,toggleSection:P,finishUpload:T,music:p,isPlaying:O,isLoading:u,checked:M,removeError:E,UploadMessage:o,textArea:t,userPosts:c,onEdit:D,cancel:N,uploadMusicForm:d,messageError:r,closeMsg:B}}};c("a1c2");ac.render=pt;var lc=ac;const nc={class:"bg-dark"},sc={class:"login"},oc={key:0,autocomplete:"off"},rc={class:"input-group"},ic=Object(a["g"])("label",{class:"placeholder",for:"userName"},"Enter your username ...",-1),uc={class:"input-group"},dc=Object(a["g"])("label",{class:"placeholder",for:"password"},"Enter your password ...",-1),bc=Object(a["g"])("a",{class:"forgotPassword",href:"#"},"Forgot Password?",-1),pc={key:1,autocomplete:"off"},gc={class:"input-group"},mc=Object(a["g"])("label",{class:"placeholder",for:"firstName"},"First name ...",-1),Oc={class:"input-group"},jc=Object(a["g"])("label",{class:"placeholder",for:"lastName"},"Last name ...",-1),vc={class:"input-group"},hc=Object(a["g"])("label",{class:"placeholder",for:"userName"},"Choose your username ...",-1),fc={class:"input-group"},yc=Object(a["g"])("label",{class:"placeholder",for:"email"},"Your email ...",-1),kc={class:"input-group"},wc=Object(a["g"])("label",{class:"placeholder",for:"password"},"Password ...",-1),xc={class:"input-group"},Cc=Object(a["g"])("label",{class:"placeholder",for:"repeatPassword"},"Repeat your password ...",-1),Lc={class:"content"},Uc={key:0,class:"checkmark",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 52 52"},Pc=Object(a["g"])("circle",{class:"checkmark__circle",cx:"26",cy:"26",r:"25",fill:"none"},null,-1),Sc=Object(a["g"])("path",{class:"checkmark__check",fill:"none",d:"M14.1 27.2l7.1 7.2 16.7-16.8"},null,-1),Mc={key:1,class:"checkmark",viewBox:"0 0 496 496",xmlns:"http://www.w3.org/2000/svg"},Ec=Object(a["g"])("path",{d:"m248 8c-132.546875 0-240 107.453125-240 240s107.453125 240 240 240 240-107.453125 240-240-107.453125-240-240-240zm107.480469 347.480469-107.480469-107.480469-107.480469 107.480469 107.480469-107.480469-107.480469-107.480469 107.480469 107.480469 107.480469-107.480469-107.480469 107.480469zm0 0",fill:"#ff6243"},null,-1),Tc=Object(a["g"])("g",{fill:"#231f20"},[Object(a["g"])("path",{d:"m248 0c-136.964844 0-248 111.035156-248 248s111.035156 248 248 248 248-111.035156 248-248c-.160156-136.902344-111.097656-247.839844-248-248zm0 480c-128.128906 0-232-103.871094-232-232s103.871094-232 232-232 232 103.871094 232 232c-.140625 128.070312-103.929688 231.859375-232 232zm0 0"}),Object(a["g"])("path",{d:"m361.136719 134.863281c-3.125-3.121093-8.1875-3.121093-11.3125 0l-101.824219 101.824219-101.824219-101.824219c-2.007812-2.078125-4.984375-2.914062-7.78125-2.179687-2.796875.730468-4.980469 2.914062-5.710937 5.710937-.734375 2.796875.101562 5.773438 2.179687 7.78125l101.824219 101.824219-101.824219 101.824219c-2.078125 2.007812-2.914062 4.984375-2.179687 7.78125.730468 2.796875 2.914062 4.980469 5.710937 5.710937 2.796875.734375 5.773438-.101562 7.78125-2.179687l101.824219-101.824219 101.824219 101.824219c3.140625 3.03125 8.128906 2.988281 11.214843-.097657 3.085938-3.085937 3.128907-8.074218.097657-11.214843l-101.824219-101.824219 101.824219-101.824219c3.121093-3.125 3.121093-8.1875 0-11.3125zm0 0"})],-1),Ac={key:0,class:"loading"};function Dc(e,t,c,l,n,s){return Object(a["s"])(),Object(a["d"])(a["a"],null,[Object(a["g"])("div",nc,[Object(a["K"])(Object(a["g"])("div",sc,[Object(a["g"])("div",{class:["switch",{move:l.isChanging}]},[Object(a["g"])("h1",{onClick:t[1]||(t[1]=(...e)=>l.move&&l.move(...e))},"Login"),Object(a["g"])("h1",{onClick:t[2]||(t[2]=(...e)=>l.move&&l.move(...e))},"Signup")],2),l.isLogging?(Object(a["s"])(),Object(a["d"])("form",oc,[Object(a["g"])("div",rc,[Object(a["K"])(Object(a["g"])("input",{onKeydown:t[3]||(t[3]=(...e)=>l.changing&&l.changing(...e)),type:"text",id:"userName","onUpdate:modelValue":t[4]||(t[4]=e=>l.loginProperties.userName=e),required:"",autocomplete:"off"},null,544),[[a["F"],l.loginProperties.userName]]),ic]),Object(a["g"])("div",uc,[Object(a["K"])(Object(a["g"])("input",{onKeydown:t[5]||(t[5]=(...e)=>l.changing&&l.changing(...e)),type:"password",id:"password","onUpdate:modelValue":t[6]||(t[6]=e=>l.loginProperties.password=e),required:"",autocomplete:"current-password"},null,544),[[a["F"],l.loginProperties.password]]),dc]),Object(a["g"])("button",{onClick:t[7]||(t[7]=Object(a["L"])((...e)=>l.login&&l.login(...e),["prevent"]))},"login"),bc])):(Object(a["s"])(),Object(a["d"])("form",pc,[Object(a["g"])("div",gc,[Object(a["K"])(Object(a["g"])("input",{onKeydown:t[8]||(t[8]=(...e)=>l.changing&&l.changing(...e)),type:"text",id:"firstName","onUpdate:modelValue":t[9]||(t[9]=e=>l.signupProperties.firstName=e),required:"",autocomplete:"off"},null,544),[[a["F"],l.signupProperties.firstName]]),mc]),Object(a["g"])("div",Oc,[Object(a["K"])(Object(a["g"])("input",{onKeydown:t[10]||(t[10]=(...e)=>l.changing&&l.changing(...e)),type:"text",id:"lastName","onUpdate:modelValue":t[11]||(t[11]=e=>l.signupProperties.lastName=e),required:"",autocomplete:"off"},null,544),[[a["F"],l.signupProperties.lastName]]),jc]),Object(a["g"])("div",vc,[Object(a["K"])(Object(a["g"])("input",{onKeydown:t[12]||(t[12]=(...e)=>l.changing&&l.changing(...e)),type:"text",id:"userName","onUpdate:modelValue":t[13]||(t[13]=e=>l.signupProperties.userName=e),required:"",autocomplete:"off"},null,544),[[a["F"],l.signupProperties.userName]]),hc]),Object(a["g"])("div",fc,[Object(a["K"])(Object(a["g"])("input",{onKeydown:t[14]||(t[14]=(...e)=>l.changing&&l.changing(...e)),type:"email",id:"email","onUpdate:modelValue":t[15]||(t[15]=e=>l.signupProperties.email=e),required:"",autocomplete:"off"},null,544),[[a["F"],l.signupProperties.email]]),yc]),Object(a["g"])("div",kc,[Object(a["K"])(Object(a["g"])("input",{onKeydown:t[16]||(t[16]=(...e)=>l.changing&&l.changing(...e)),type:"password",id:"password","onUpdate:modelValue":t[17]||(t[17]=e=>l.signupProperties.password=e),required:"",autocomplete:"new-password"},null,544),[[a["F"],l.signupProperties.password]]),wc]),Object(a["g"])("div",xc,[Object(a["K"])(Object(a["g"])("input",{onKeydown:t[18]||(t[18]=(...e)=>l.changing&&l.changing(...e)),type:"password",id:"repeatPassword","onUpdate:modelValue":t[19]||(t[19]=e=>l.signupProperties.repeatPassword=e),required:"",autocomplete:"current-password"},null,544),[[a["F"],l.signupProperties.repeatPassword]]),Cc]),Object(a["g"])("button",{onClick:t[20]||(t[20]=Object(a["L"])((...e)=>l.signUp&&l.signUp(...e),["prevent"]))},"Signup")])),l.authenticationMsg?(Object(a["s"])(),Object(a["d"])("div",{key:2,class:["message",{error:l.messageError}]},[Object(a["g"])("div",Lc,[0==l.messageError?(Object(a["s"])(),Object(a["d"])("svg",Uc,[Pc,Sc])):Object(a["e"])("",!0),l.messageError?(Object(a["s"])(),Object(a["d"])("svg",Mc,[Ec,Tc])):Object(a["e"])("",!0),Object(a["g"])("div",null,[Object(a["g"])("h1",null,Object(a["B"])(l.authenticationMsg),1),Object(a["g"])("button",{onClick:t[21]||(t[21]=(...e)=>l.finishUpload&&l.finishUpload(...e))}," Close ")])])],2)):Object(a["e"])("",!0)],512),[[a["G"],!l.loading]])]),l.loading?(Object(a["s"])(),Object(a["d"])("div",Ac)):Object(a["e"])("",!0)],64)}var Nc={setup(){const e=Object(a["x"])(!1),t=Object(a["x"])(!0),c=Object(a["x"])(!1);let l=Object(a["x"])(!1),n=Object(a["x"])(!1),s=Object(a["x"])(!1);const o="https://rapgap.herokuapp.com",r=Object(x["b"])(),i=Object(C["d"])(),u=Object(a["w"])({firstName:"",lastName:"",userName:"",email:"",password:"",repeatPassword:""}),d=Object(a["w"])({userName:"",password:""}),b=a=>{"Login"===a.target.textContent?(e.value=!1,t.value=!0,c.value=!1):(e.value=!0,t.value=!1,c.value=!0),s.value=null,u.firstName="",u.lastName="",u.userName="",u.email="",u.password="",u.repeatPassword="",d.userName="",d.password=""},p=e=>{const t=Object.values(e),c=Object.keys(e);let a;return t.forEach((e,t)=>{if(null===e||""===e||void 0===e){let e=c[t],l=document.getElementById(e),n=l.parentElement;n.classList.add("error"),a=!1}else a=!0}),a},g=async(e,t,c)=>{try{const a=await mt.a.post(t,e);c(a,null)}catch(a){c(null,a)}},m=()=>{const e=p(d);e?(l.value=!0,g(d,o+"/login",(e,t)=>{if(t){const e=Object.keys(d);setTimeout(()=>{e.forEach(e=>{document.getElementById(e).parentElement.classList.add("error"),s.value=t.response.data.message,n.value=!0}),l.value=!1},3e3)}else if(e){const{User:t,token:c}=e.data;t.token=c,setTimeout(()=>{r.commit("setUser",t),r.commit("setAuthentication",!0),i.push("/profile"),l.value=!1},2e3)}})):s.value="Red fields are required!"},O=()=>{const e=document.querySelector("input#password"),t=document.querySelector("input#repeatPassword");if(p(u)){if(u.password!=u.repeatPassword)return e.parentElement.classList.add("error"),t.parentElement.classList.add("error"),void(s.value="Password does not match!");s.value=null,e.parentElement.classList.contains("error")||t.parentElement.classList.contains("error")?(e.parentElement.classList.remove("error"),t.parentElement.classList.remove("error")):(l.value=!0,g(u,o+"/signup",(e,t)=>{t?setTimeout(()=>{l.value=!1,n.value=!0,s.value=t.response.data.message},3e3):setTimeout(()=>{l.value=!1,s.value="Acoount successfully created! please login to your account."},3e3)}))}else s.value="please fill the fields!"},j=e=>{s.value=null;let t=e.target.parentNode;t.classList.contains("error")&&t.classList.remove("error")},v=()=>{s.value=!1,n.value=!1};return{isChanging:e,move:b,isLogging:t,isSignngUp:c,signupProperties:u,loginProperties:d,login:m,signUp:O,changing:j,authenticationMsg:s,messageError:n,finishUpload:v,loading:l}}};c("5675");Nc.render=Dc;var Bc=Nc,Fc=c("0e44"),qc=Object(x["a"])({plugins:[Object(Fc["a"])({storage:window.sessionStorage})],state:{isAuthenticated:!1,User:null},mutations:{setAuthentication(e,t){e.isAuthenticated=t},setUser(e,t){e.User=t},setProfilePic(e,t){e.User.profilePic=t},setContacts(e,t){e.User=Object.assign(e.User,t)}},getters:{getAuthState(e){return e.isAuthenticated}},actions:{},modules:{}}),Kc=c("d1ed"),_c=c.n(Kc);const Rc=Object(a["M"])("data-v-3ddb2ce0");Object(a["v"])("data-v-3ddb2ce0");const zc={class:"background"},Ic={class:"container"},Hc={class:"grid"},Vc={class:"picture"},$c=Object(a["g"])("h1",null,"Change profile picture",-1),Xc={class:"content"},Wc=Object(a["g"])("h1",null,"Information",-1),Yc={class:"contact"},Jc=Object(a["g"])("h1",null,"Contacts",-1),Gc={class:"input-group"},Qc={class:"content"},Zc={key:0,class:"checkmark",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 52 52"},ea=Object(a["g"])("circle",{class:"checkmark__circle",cx:"26",cy:"26",r:"25",fill:"none"},null,-1),ta=Object(a["g"])("path",{class:"checkmark__check",fill:"none",d:"M14.1 27.2l7.1 7.2 16.7-16.8"},null,-1),ca={key:1,class:"checkmark",viewBox:"0 0 496 496",xmlns:"http://www.w3.org/2000/svg"},aa=Object(a["g"])("path",{d:"m248 8c-132.546875 0-240 107.453125-240 240s107.453125 240 240 240 240-107.453125 240-240-107.453125-240-240-240zm107.480469 347.480469-107.480469-107.480469-107.480469 107.480469 107.480469-107.480469-107.480469-107.480469 107.480469 107.480469 107.480469-107.480469-107.480469 107.480469zm0 0",fill:"#ff6243"},null,-1),la=Object(a["g"])("g",{fill:"#231f20"},[Object(a["g"])("path",{d:"m248 0c-136.964844 0-248 111.035156-248 248s111.035156 248 248 248 248-111.035156 248-248c-.160156-136.902344-111.097656-247.839844-248-248zm0 480c-128.128906 0-232-103.871094-232-232s103.871094-232 232-232 232 103.871094 232 232c-.140625 128.070312-103.929688 231.859375-232 232zm0 0"}),Object(a["g"])("path",{d:"m361.136719 134.863281c-3.125-3.121093-8.1875-3.121093-11.3125 0l-101.824219 101.824219-101.824219-101.824219c-2.007812-2.078125-4.984375-2.914062-7.78125-2.179687-2.796875.730468-4.980469 2.914062-5.710937 5.710937-.734375 2.796875.101562 5.773438 2.179687 7.78125l101.824219 101.824219-101.824219 101.824219c-2.078125 2.007812-2.914062 4.984375-2.179687 7.78125.730468 2.796875 2.914062 4.980469 5.710937 5.710937 2.796875.734375 5.773438-.101562 7.78125-2.179687l101.824219-101.824219 101.824219 101.824219c3.140625 3.03125 8.128906 2.988281 11.214843-.097657 3.085938-3.085937 3.128907-8.074218.097657-11.214843l-101.824219-101.824219 101.824219-101.824219c3.121093-3.125 3.121093-8.1875 0-11.3125zm0 0"})],-1);Object(a["t"])();const na=Rc((e,t,c,l,n,s)=>(Object(a["s"])(),Object(a["d"])(a["a"],null,[Object(a["g"])("div",zc,[Object(a["g"])("div",Ic,[Object(a["g"])("div",Hc,[Object(a["g"])("div",Vc,[$c,Object(a["g"])("img",{class:"profilePicture",onClick:t[1]||(t[1]=(...e)=>l.changePicture&&l.changePicture(...e)),src:_c.a,alt:""})]),Object(a["g"])("div",Xc,[Wc,(Object(a["s"])(!0),Object(a["d"])(a["a"],null,Object(a["y"])(l.INFO,(e,t)=>(Object(a["s"])(),Object(a["d"])("div",{class:"input-group",key:t},[Object(a["K"])(Object(a["g"])("input",{"onUpdate:modelValue":t=>e.value=t,id:e.id,type:e.type,autocomplete:"off",required:""},null,8,["onUpdate:modelValue","id","type"]),[[a["E"],e.value]]),Object(a["g"])("label",{class:"placeholder",for:e.id},Object(a["B"])(e.placeholder),9,["for"])]))),128)),Object(a["K"])(Object(a["g"])("textarea",{"onUpdate:modelValue":t[2]||(t[2]=e=>l.descriptionText=e),placeholder:"Tell us about yourself"},null,512),[[a["F"],l.descriptionText]]),Object(a["g"])("button",{onClick:t[3]||(t[3]=(...e)=>l.update&&l.update(...e))},"Save Changes")]),Object(a["g"])("div",Yc,[Jc,(Object(a["s"])(!0),Object(a["d"])(a["a"],null,Object(a["y"])(l.CONTACTS,(e,t)=>(Object(a["s"])(),Object(a["d"])("div",{key:t},[Object(a["g"])("img",{src:e.icon,alt:e.placeholder},null,8,["src","alt"]),Object(a["g"])("div",Gc,[Object(a["K"])(Object(a["g"])("input",{"onUpdate:modelValue":t=>e.URL=t,id:e.id,type:"text",required:""},null,8,["onUpdate:modelValue","id"]),[[a["F"],e.URL]]),Object(a["g"])("label",{class:"placeholder",for:e.id},Object(a["B"])(e.placeholder),9,["for"])])]))),128))])])])]),l.uploadMessage?(Object(a["s"])(),Object(a["d"])("div",{key:0,class:["message",{error:l.messageError}]},[Object(a["g"])("div",Qc,[0==l.messageError?(Object(a["s"])(),Object(a["d"])("svg",Zc,[ea,ta])):Object(a["e"])("",!0),l.messageError?(Object(a["s"])(),Object(a["d"])("svg",ca,[aa,la])):Object(a["e"])("",!0),Object(a["g"])("div",null,[Object(a["g"])("h1",null,Object(a["B"])(l.uploadMessage),1),l.uploadMessage?(Object(a["s"])(),Object(a["d"])("button",{key:0,onClick:t[4]||(t[4]=(...e)=>l.finishUpload&&l.finishUpload(...e))}," Close ")):Object(a["e"])("",!0)])])],2)):Object(a["e"])("",!0)],64)));var sa={setup(){const e=Object(a["w"])({instagram:{URL:null,icon:c("54e6"),id:"instagram",placeholder:"Instagram URL"},facebook:{URL:null,icon:c("aaa3"),id:"facebook",placeholder:"Facebook URL"},twitter:{URL:null,icon:c("a3df"),id:"twitter",placeholder:"Twitter URL"},website:{URL:null,icon:c("05dd"),id:"website",placeholder:"Website URL"}}),t=Object(a["w"])({firstName:{id:"firstName",value:null,type:"text",placeholder:"First Name"},lastName:{id:"lastName",value:null,type:"text",placeholder:"Last Name"},email:{id:"email",value:null,type:"email",placeholder:"Email"}});let l=Object(a["x"])(null);const n=Object(x["b"])(),s=Object(a["x"])(!1),o=Object(a["x"])(!1),r="https://rapgap.herokuapp.com",i=()=>{const{instagram:c,facebook:a,website:i,twitter:u}=e,{firstName:d,lastName:b,email:p}=t,g={contacts:{instagram:c.URL,facebook:a.URL,website:i.URL,twitter:u.URL},description:l.value,fistName:d.value,lastName:b.value,email:p.value},m=r+"/profile";n.commit("setContacts",g),fetch(m,{method:"POST",headers:{"content-type":"application/json",Authorization:"Bearer "+n.state.User.token},body:JSON.stringify(g)}).then(e=>e.json()).then(e=>{console.log(e),s.value="Profile Updated!"}).catch(e=>{console.error(e),s.value="Something went wrong",o.value=!0})},u=r+"/uploads/media/";Object(a["p"])(()=>{const c=document.querySelector(".profilePicture"),{profilePic:a,firstName:s,lastName:o,email:r,description:i,contacts:d}=n.state.User,b=void 0!=a||null!=a;b&&(c.src=u+a.Key),t.firstName.value=s,t.lastName.value=o,t.email.value=r,l.value=i,d&&(console.log(d),e.instagram.URL=d.instagram,e.facebook.URL=d.facebook,e.twitter.URL=d.twitter,e.website.URL=d.website)});const d=()=>{const e=document.createElement("input");e.type="file",e.accept="image/*",e.click(),e.addEventListener("change",b)},b=e=>{const t=e.path[0].files[0],c=new FormData;c.append("profilePicture",t);const a=r+"/profilePicture",l={"Content-Type":"multipart/form-data; charset=utf-8; boundary="+Math.random().toString().substr(2),Authorization:"Bearer "+n.state.User.token};mt.a.post(a,c,{headers:l}).then(e=>{console.log(e);const t=document.querySelector(".profilePicture");t.src=u+e.data.updatedData.Key,n.commit("setProfilePic",e.data.updatedData)})},p=()=>{console.log("Finished"),s.value=!1,o.value=!1};return{CONTACTS:e,update:i,changePicture:d,INFO:t,descriptionText:l,uploadMessage:s,finishUpload:p,messageError:o}}};c("c65f");sa.render=na,sa.__scopeId="data-v-3ddb2ce0";var oa=sa;const ra=(e,t,c)=>{qc.state.isAuthenticated&&("Artist"===qc.state.User.role||"Admin"===qc.state.User.role)?c():c("/")},ia=(e,t,c)=>{qc.state.isAuthenticated?c():c("/auth")},ua=(e,t,c)=>{qc.state.isAuthenticated?c("/"):c()},da=[{path:"/",name:"Home",component:Ne},{path:"/auth",name:"Authentication",component:Bc,beforeEnter:ua},{path:"/about",name:"About",component:function(){return c.e("about").then(c.bind(null,"f820"))}},{path:"/dashboard",name:"Dashboard",component:lc,beforeEnter:ra},{path:"/profile",name:"Profile",component:oa,beforeEnter:ia}],ba=Object(C["a"])({history:Object(C["b"])("/"),routes:da});var pa=ba;Object(a["c"])(A).use(qc).use(pa).mount("#app")},"57a8":function(e,t,c){e.exports=c.p+"img/dashboard.98f209e9.svg"},6515:function(e,t,c){},6582:function(e,t,c){e.exports=c.p+"img/edit.c9effb12.svg"},"6c6e":function(e,t,c){},a1c2:function(e,t,c){"use strict";c("e234")},a3df:function(e,t,c){e.exports=c.p+"img/twitter.d8853c44.svg"},a7a5:function(e,t,c){},aaa3:function(e,t,c){e.exports=c.p+"img/facebook.142b3d7b.svg"},abb3:function(e,t,c){},b929:function(e,t,c){"use strict";c("e3ea")},bd82:function(e,t,c){"use strict";c("6c6e")},c65f:function(e,t,c){"use strict";c("33ad")},cf4a:function(e,t,c){e.exports=c.p+"img/User.5acf7ecb.svg"},d1ed:function(e,t,c){e.exports=c.p+"img/received_24.a6983752.jpeg"},d402:function(e,t,c){},d739:function(e,t,c){e.exports=c.p+"img/delete.e4e0e99c.svg"},d821:function(e,t,c){e.exports=c.p+"img/uranous.5d0ec394.png"},e234:function(e,t,c){},e2ec:function(e,t,c){e.exports=c.p+"img/New_Home5.df54fca5.svg"},e3ea:function(e,t,c){}});
//# sourceMappingURL=app.e7b223c4.js.map